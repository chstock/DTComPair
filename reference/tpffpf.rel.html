<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculates two-sided Wald confidence intervals and performs a Wald test for the relative
true positive fraction (TPF) (sensitivity) and false positive fraction (FPF) (i.e., one minus specificity) 
of two binary diagnostic tests in a paired study design.
This function is primarily intended for the analysis of paired screen positive studies, i.e. those paired studies where
the disease (outcome) is ascertained using the gold standard test only in subjects who screen positive to 
either or both diagnostic tests. However, this function can also be used with data from standard paired studies, 
i.e. where the gold standard test is applied to all subjects."><title>Comparison of the accuracy of two tests using relative true positive and false positive fraction — tpffpf.rel • DTComPair</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comparison of the accuracy of two tests using relative true positive and false positive fraction — tpffpf.rel"><meta property="og:description" content="Calculates two-sided Wald confidence intervals and performs a Wald test for the relative
true positive fraction (TPF) (sensitivity) and false positive fraction (FPF) (i.e., one minus specificity) 
of two binary diagnostic tests in a paired study design.
This function is primarily intended for the analysis of paired screen positive studies, i.e. those paired studies where
the disease (outcome) is ascertained using the gold standard test only in subjects who screen positive to 
either or both diagnostic tests. However, this function can also be used with data from standard paired studies, 
i.e. where the gold standard test is applied to all subjects."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DTComPair</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/chstock/DTComPair/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Comparison of the accuracy of two tests using relative true positive and false positive fraction</h1>
      <small class="dont-index">Source: <a href="https://github.com/chstock/DTComPair/blob/HEAD/R/tpffpf.rel.R" class="external-link"><code>R/tpffpf.rel.R</code></a></small>
      <div class="d-none name"><code>tpffpf.rel.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates two-sided Wald confidence intervals and performs a Wald test for the relative
true positive fraction (TPF) (sensitivity) and false positive fraction (FPF) (i.e., one minus specificity) 
of two binary diagnostic tests in a paired study design.</p>
<p>This function is primarily intended for the analysis of paired <b>screen positive</b> studies, i.e. those paired studies where
the disease (outcome) is ascertained using the gold standard test only in subjects who screen positive to 
either or both diagnostic tests. However, this function can also be used with data from standard paired studies, 
i.e. where the gold standard test is applied to all subjects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tpffpf.rel</span><span class="op">(</span><span class="va">tab</span>, <span class="va">alpha</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>tab</dt>
<dd><p>an object of class <code>tab.paired</code>.</p></dd>


<dt>alpha</dt>
<dd><p>significance level alpha used to compute two-sided 100(1-alpha)%-confidence intervals, the default is 0.05.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing:</p>
<dl><dt>tpf</dt>
<dd><p>a named vector containing 
<code>rel.tpf</code> (the relative true positive fraction, Test2 vs. Test1), 
<code>se.log.rel.tpf</code> (the standard error for log(<code>rel.tpf</code>)), <code>lcl.rel.tpf</code> (the lower confidence limit for <code>rel.tpf</code>), 
 <code>ucl.rel.tpf</code> (the upper confidence limit for <code>rel.tpf</code>), and <code>pval.rel.tpf</code> (the p-value from the test for
 the null hypothesis: relative true positive fraction=1).</p></dd>

<dt>fpf</dt>
<dd><p>a named vector containing 
<code>rel.fpf</code> (the relative false positive fraction, Test2 vs. Test1), 
<code>se.log.rel.fpf</code> (the standard error for log(<code>rel.fpf</code>)), <code>lcl.rel.fpf</code> (the lower confidence limit for <code>rel.fpf</code>), 
 <code>ucl.rel.fpf</code> (the upper confidence limit for <code>rel.fpf</code>), and <code>pval.rel.fpf</code> (the p-value from the test for
 the null hypothesis: relative false positive fraction=1).</p></dd>

<dt>alpha</dt>
<dd><p>significance level alpha for 100(1-alpha)%-confidence intervals for <code>rel.tpf</code> and <code>rel.fpf</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If relative true positive fraction&gt;1, the percentage increase in true positive fraction for Test2 relative to Test1 is computed as 100(relative true positive fraction-1)%. If 
relative true positive fraction&lt;1 the percentage decrease in true positive fraction for Test2 relative to Test1 is computed as 100(1-relative true positive fraction)%. 
Percentage increase/decrease in false positive fraction is computed in an analogous fashion.</p>
<p>Given the independence of relative TPR and relative TNR, a possible joint 100(1-alpha)% confidence region for {relative TPF, relative FPF}
is formed by the rectangle {<code>lcl.rel.tpf</code>, <code>ucl.rel.tpf</code>} x {<code>lcl.rel.fpf</code>, <code>ucl.rel.fpf</code>}, where {<code>lcl.rel.tpf</code>, <code>ucl.rel.tpf</code>} and
{<code>lcl.rel.fpf</code>, <code>ucl.rel.fpf</code>} are 100(1-alpha*)% confidence intervals for relative TPF and relative FPF, respectively, and alpha*=1-sqrt(1-alpha).</p>
<p>In screen positive studies, only relative TPF and relative FPF can be estimated from the data. 
Their constituents, i.e. TPF and FPF for the two tests, are not estimable. 
Relative specificity is not estimable either. Therefore, <code>sesp.rel</code> should not 
be used to attempt to estimate those quantities from studies with a paired screen positive design. 
McNemar's test (<code>sesp.mcnemar</code>) can, however, be used to test the null hypothesis of equality in specificities in 
paired screen positive studies (Schatzkin et al., 1987).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Schatzkin, A., Connor, R. J., Taylor, P. R., &amp; Bunnag, B. (1987). Comparing new and old screening tests when a reference procedure cannot be performed on all screenees: example of automated cytometry for early detection of cervical cancer. <em>American Journal of Epidemiology</em>, 125(4), 672-678.</p>
<p>Cheng, H., &amp; Macaluso, M. (1997). Comparison of the accuracy of two tests with a confirmatory procedure limited to positive results. <em>Epidemiology</em>, 104-106.</p>
<p>Alonzo, T. A., Pepe, M. S., &amp; Moskowitz, C. S. (2002). Sample size calculations for comparative studies of medical tests for detecting presence of disease. <em>Statistics in medicine</em>, 21(6), 835-852.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code>sesp.rel</code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Data from Cheng and Macaluso (Table 2)</span></span></span>
<span class="r-in"><span><span class="va">breast.cancer.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="read.tab.paired.html">read.tab.paired</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> <span class="fl">10</span>, <span class="fl">24</span>, <span class="fl">21</span>, <span class="cn">NA</span>,</span></span>
<span class="r-in"><span> <span class="fl">13</span>, <span class="fl">144</span>, <span class="fl">95</span>, <span class="cn">NA</span>,</span></span>
<span class="r-in"><span> testnames<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Mammography"</span>, <span class="st">"Physical examination"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">breast.cancer.data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Two binary diagnostic tests (paired design)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test1: 'Mammography'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test2: 'Physical examination'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Diseased:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Test1 pos. Test1 neg. Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test2 pos.         10         24    34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test2 neg.         21         NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total              31         NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Non-diseased:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Test1 pos. Test1 neg. Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test2 pos.         13        144   157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test2 neg.         95         NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total             108         NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">tpffpf.rel.results</span> <span class="op">&lt;-</span> <span class="fu">tpffpf.rel</span><span class="op">(</span><span class="va">breast.cancer.data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tpffpf.rel.results</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tpf  : Named num [1:5] 1.097 0.207 0.732 1.644 0.655</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "names")= chr [1:5] "rel.tpf" "se.log.rel.tpf" "lcl.rel.tpf" "ucl.rel.tpf" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ fpf  : Named num [1:5] 1.4537 0.11872 1.15191 1.83457 0.00163</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "names")= chr [1:5] "rel.fpf" "se.log.rel.fpf" "lcl.rel.fpf" "ucl.rel.fpf" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ alpha: num 0.05</span>
<span class="r-in"><span><span class="va">tpffpf.rel.results</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $tpf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        rel.tpf se.log.rel.tpf    lcl.rel.tpf    ucl.rel.tpf   pval.rel.tpf </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1.0967742      0.2066265      0.7315373      1.6443641      0.6548356 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fpf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        rel.fpf se.log.rel.fpf    lcl.rel.fpf    ucl.rel.fpf   pval.rel.fpf </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1.453703704    0.118723652    1.151908920    1.834567318    0.001626358 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Christian Stock, Thomas Hielscher, Andrea Discacciati.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

